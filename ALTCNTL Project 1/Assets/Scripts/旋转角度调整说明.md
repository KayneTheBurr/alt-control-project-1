# æ—‹è½¬è§’åº¦è°ƒæ•´è¯´æ˜

> **ä¿®æ”¹å†…å®¹**: è°ƒæ•´å€¾æ–œé˜¶æ®µçš„æ—‹è½¬è§’åº¦  
> **ä¿®æ”¹æ—¥æœŸ**: 2025-10-13  
> **ç‰ˆæœ¬**: 1.2.0

---

## ğŸ¯ ä¿®æ”¹ç›®æ ‡

é™ä½å€¾å€’é˜¶æ®µçš„æ—‹è½¬è§’åº¦ï¼Œä½¿å€¾æ–œæ•ˆæœæ›´åŠ æ¸©å’Œã€‚

---

## ğŸ“Š è§’åº¦å¯¹æ¯”

### ä¿®æ”¹å‰

```
å·¦å€¾å€’ â† å·¦å€¾2 â† å·¦å€¾1 â† å±…ä¸­ â†’ å³å€¾1 â†’ å³å€¾2 â†’ å³å€¾å€’
 -45Â°     -30Â°     -15Â°     0Â°     15Â°      30Â°      45Â°
  -3       -2       -1       0       1        2        3
```

### ä¿®æ”¹å âœ…

```
å·¦å€¾å€’ â† å·¦å€¾2 â† å·¦å€¾1 â† å±…ä¸­ â†’ å³å€¾1 â†’ å³å€¾2 â†’ å³å€¾å€’
 -35Â°     -25Â°     -15Â°     0Â°     15Â°      25Â°      35Â°
  -3       -2       -1       0       1        2        3
```

---

## ğŸ“‹ è¯¦ç»†ä¿®æ”¹

| é˜¶æ®µ | ä¿®æ”¹å‰ | ä¿®æ”¹å | å˜åŒ– |
|------|--------|--------|------|
| **å·¦å€¾å€’** | -45Â° | **-35Â°** | +10Â° |
| **å·¦å€¾2** | -30Â° | **-25Â°** | +5Â° |
| å·¦å€¾1 | -15Â° | -15Â° | æ— å˜åŒ– |
| å±…ä¸­ | 0Â° | 0Â° | æ— å˜åŒ– |
| å³å€¾1 | 15Â° | 15Â° | æ— å˜åŒ– |
| **å³å€¾2** | 30Â° | **25Â°** | -5Â° |
| **å³å€¾å€’** | 45Â° | **35Â°** | -10Â° |

---

## ğŸ¨ è§†è§‰æ•ˆæœå˜åŒ–

### å€¾å€’é˜¶æ®µ (Topple)

**ä¿®æ”¹å‰: Â±45Â°**
- å€¾æ–œéå¸¸æ˜æ˜¾
- è§†è§‰å†²å‡»åŠ›å¼º
- å¯èƒ½è¿‡äºå¤¸å¼ 

**ä¿®æ”¹å: Â±35Â°**
- âœ… å€¾æ–œæ›´åŠ æ¸©å’Œ
- âœ… è§†è§‰æ•ˆæœæ›´è‡ªç„¶
- âœ… ä»ç„¶æ˜æ˜¾è¡¨ç¤º"å±é™©"çŠ¶æ€

### å€¾æ–œ2é˜¶æ®µ (Tilt2)

**ä¿®æ”¹å‰: Â±30Â°**
- ä¸­ç­‰å€¾æ–œ

**ä¿®æ”¹å: Â±25Â°**
- âœ… ç¨å¾®æ¸©å’Œ
- âœ… ä¸å€¾å€’é˜¶æ®µåŒºåˆ†åº¦æ›´æ˜æ˜¾

---

## ğŸ”§ ä»£ç ä¿®æ”¹

### SwayPhase.cs

```csharp
public static float GetRotationAngle(this SwayPhase phase)
{
    switch (phase)
    {
        case SwayPhase.LeftTopple: return -35f;  // ä¿®æ”¹ï¼š-45Â° â†’ -35Â°
        case SwayPhase.LeftTilt2: return -25f;   // ä¿®æ”¹ï¼š-30Â° â†’ -25Â°
        case SwayPhase.LeftTilt1: return -15f;   // ä¿æŒä¸å˜
        case SwayPhase.Center: return 0f;        // ä¿æŒä¸å˜
        case SwayPhase.RightTilt1: return 15f;   // ä¿æŒä¸å˜
        case SwayPhase.RightTilt2: return 25f;   // ä¿®æ”¹ï¼š30Â° â†’ 25Â°
        case SwayPhase.RightTopple: return 35f;  // ä¿®æ”¹ï¼š45Â° â†’ 35Â°
        default: return 0f;
    }
}
```

---

## ğŸ® æ¸¸æˆä½“éªŒå½±å“

### æ­£é¢å½±å“

1. **æ›´æ˜“æ§åˆ¶** âœ…
   - å€¾æ–œè§’åº¦æ›´å°ï¼Œç©å®¶æœ‰æ›´å¤šååº”æ—¶é—´
   - é™ä½äº†æ¸¸æˆéš¾åº¦æ›²çº¿

2. **è§†è§‰èˆ’é€‚** âœ…
   - å‡å°‘äº†è¿‡åº¦å€¾æ–œé€ æˆçš„è§†è§‰ä¸é€‚
   - ç”»é¢æ›´åŠ ç¨³å®š

3. **ç‰©ä½“æ‰è½æ›´è‡ªç„¶** âœ…
   - 35Â°çš„å€¾å€’è§’åº¦æ›´ç¬¦åˆç‰©ç†ç›´è§‰
   - æ‰è½æ•ˆæœæ›´çœŸå®

### å¯èƒ½å½±å“

1. **å±æœºæ„Ÿé™ä½**
   - å€¾å€’é˜¶æ®µä¸å¦‚ä¹‹å‰æ˜æ˜¾
   - **è§£å†³æ–¹æ¡ˆ**: å¯é€šè¿‡UIã€éŸ³æ•ˆã€ç‰¹æ•ˆå¼ºåŒ–å±æœºæ„Ÿ

2. **é˜¶æ®µåŒºåˆ†åº¦**
   - å€¾æ–œ2å’Œå€¾å€’çš„è§’åº¦å·®ä»15Â°ç¼©å°åˆ°10Â°
   - **è§£å†³æ–¹æ¡ˆ**: æ·»åŠ é¢œè‰²ã€æŠ–åŠ¨ç­‰è§†è§‰æç¤º

---

## ğŸ¨ å¢å¼ºè§†è§‰åé¦ˆå»ºè®®

å¦‚æœè§‰å¾—å±æœºæ„Ÿä¸å¤Ÿï¼Œå¯ä»¥æ·»åŠ ï¼š

### 1. é¢œè‰²æç¤º

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    Color warningColor = Color.white;
    
    switch (newPhase)
    {
        case SwayPhase.Center:
            warningColor = Color.white;  // å®‰å…¨
            break;
        case SwayPhase.LeftTilt1:
        case SwayPhase.RightTilt1:
            warningColor = Color.yellow;  // è­¦å‘Š
            break;
        case SwayPhase.LeftTilt2:
        case SwayPhase.RightTilt2:
            warningColor = new Color(1f, 0.5f, 0f);  // æ©™è‰²-å±é™©
            break;
        case SwayPhase.LeftTopple:
        case SwayPhase.RightTopple:
            warningColor = Color.red;  // çº¢è‰²-å€¾å€’
            break;
    }
    
    // åº”ç”¨åˆ°èƒŒæ™¯æˆ–ç‰©ä½“
    Camera.main.backgroundColor = warningColor;
}
```

### 2. ç›¸æœºæŠ–åŠ¨

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        // å€¾å€’é˜¶æ®µï¼šå¼ºçƒˆæŠ–åŠ¨
        StartCoroutine(CameraShake(0.3f, 0.2f));
    }
    else if (newPhase == SwayPhase.LeftTilt2 || newPhase == SwayPhase.RightTilt2)
    {
        // å€¾æ–œ2ï¼šè½»å¾®æŠ–åŠ¨
        StartCoroutine(CameraShake(0.2f, 0.1f));
    }
}
```

### 3. éŸ³æ•ˆåˆ†å±‚

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        PlaySound(dangerAlarmSound, 1.0f);  // é«˜éŸ³é‡è­¦æŠ¥
    }
    else if (newPhase.IsTiltPhase())
    {
        PlaySound(warningSound, 0.5f);  // ä¸­éŸ³é‡æç¤º
    }
}
```

### 4. ç²’å­æ•ˆæœ

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        // å€¾å€’æ—¶ç”Ÿæˆç²’å­
        InstantiateParticles(warningParticles, stackController.StackRoot.position);
    }
}
```

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

### è¿™æ¬¡ä¿®æ”¹é€‚åˆï¼š

- âœ… ä¼‘é—²æ¸¸æˆ
- âœ… æ–°æ‰‹å‹å¥½çš„æ¸¸æˆ
- âœ… æ³¨é‡è§†è§‰èˆ’é€‚åº¦çš„æ¸¸æˆ
- âœ… é•¿æ—¶é—´æ¸¸ç©çš„æ¸¸æˆ

### å¦‚æœéœ€è¦æ›´é«˜éš¾åº¦ï¼š

å¯ä»¥è€ƒè™‘ï¼š
- ä¿æŒåŸè§’åº¦ï¼ˆÂ±45Â°ï¼‰
- æˆ–ä½¿ç”¨ä¸­é—´å€¼ï¼ˆÂ±40Â°ï¼‰
- æˆ–åŠ¨æ€è°ƒæ•´ï¼ˆéšæ¸¸æˆè¿›ç¨‹å¢åŠ è§’åº¦ï¼‰

---

## ğŸ”„ å¦‚ä½•æ¢å¤åŸæ¥çš„è§’åº¦

å¦‚æœæƒ³æ¢å¤åˆ°åŸæ¥çš„è§’åº¦ï¼š

```csharp
// åœ¨ SwayPhase.cs çš„ GetRotationAngle() æ–¹æ³•ä¸­ä¿®æ”¹ï¼š
case SwayPhase.LeftTopple: return -45f;   // æ”¹å› -45Â°
case SwayPhase.LeftTilt2: return -30f;    // æ”¹å› -30Â°
case SwayPhase.RightTilt2: return 30f;    // æ”¹å› 30Â°
case SwayPhase.RightTopple: return 45f;   // æ”¹å› 45Â°
```

---

## ğŸ”§ åŠ¨æ€è§’åº¦è°ƒæ•´ï¼ˆé«˜çº§ï¼‰

å¦‚æœæƒ³æ ¹æ®æ¸¸æˆè¿›åº¦åŠ¨æ€è°ƒæ•´ï¼š

```csharp
public class DynamicAngleManager : MonoBehaviour
{
    public float difficultyMultiplier = 1.0f;
    
    // éšæ¸¸æˆè¿›åº¦å¢åŠ éš¾åº¦
    void IncreaseDifficulty()
    {
        difficultyMultiplier += 0.1f;
    }
    
    // è‡ªå®šä¹‰è§’åº¦è®¡ç®—
    public float GetCustomRotationAngle(SwayPhase phase)
    {
        float baseAngle = phase.GetRotationAngle();
        return baseAngle * difficultyMultiplier;
    }
}
```

---

## ğŸ“Š ç©å®¶æµ‹è¯•å»ºè®®

### A/B æµ‹è¯•

æµ‹è¯•ä¸åŒè§’åº¦å¯¹ç©å®¶ä½“éªŒçš„å½±å“ï¼š

| ç‰ˆæœ¬ | å€¾å€’è§’åº¦ | é€‚åˆç©å®¶ |
|------|----------|----------|
| æ¸©å’Œç‰ˆ | Â±30Â° | æ–°æ‰‹ã€ä¼‘é—²ç©å®¶ |
| **å½“å‰ç‰ˆ** | **Â±35Â°** | **å¤§ä¼—ç©å®¶** |
| æ ‡å‡†ç‰ˆ | Â±40Â° | æœ‰ç»éªŒç©å®¶ |
| æŒ‘æˆ˜ç‰ˆ | Â±45Â° | ç¡¬æ ¸ç©å®¶ |
| æé™ç‰ˆ | Â±50Â° | ä¸“ä¸šç©å®¶ |

### æµ‹è¯•æŒ‡æ ‡

1. **ç©å®¶å­˜æ´»æ—¶é—´**
   - è®°å½•å¹³å‡æ¸¸æˆæ—¶é•¿
   - è§‚å¯Ÿæ˜¯å¦è¿‡ç®€å•/è¿‡éš¾

2. **ç©å®¶åé¦ˆ**
   - è§†è§‰èˆ’é€‚åº¦
   - æ¸¸æˆéš¾åº¦æ„Ÿå—
   - æ“ä½œæ‰‹æ„Ÿ

3. **å€¾å€’é¢‘ç‡**
   - ç»Ÿè®¡å¤šä¹…ä¼šå€¾å€’ä¸€æ¬¡
   - è°ƒæ•´å€’è®¡æ—¶æˆ–è§’åº¦

---

## âœ… ä¿®æ”¹æ€»ç»“

**ä¿®æ”¹å†…å®¹ï¼š**
- âœ… é™ä½å€¾å€’è§’åº¦ï¼šÂ±45Â° â†’ Â±35Â° (-10Â°)
- âœ… é™ä½å€¾æ–œ2è§’åº¦ï¼šÂ±30Â° â†’ Â±25Â° (-5Â°)
- âœ… ä¿æŒå€¾æ–œ1å’Œå±…ä¸­ä¸å˜

**é¢„æœŸæ•ˆæœï¼š**
- âœ… æ›´æ¸©å’Œçš„å€¾æ–œè¡¨ç°
- âœ… æ›´è‡ªç„¶çš„è§†è§‰æ•ˆæœ
- âœ… æ›´å‹å¥½çš„æ¸¸æˆä½“éªŒ
- âœ… æ›´ç¬¦åˆç‰©ç†ç›´è§‰

**éªŒè¯æ–¹æ³•ï¼š**
- âœ… è¿è¡Œæ¸¸æˆæµ‹è¯•å„ä¸ªé˜¶æ®µ
- âœ… è§‚å¯Ÿå€¾æ–œè§’åº¦æ˜¯å¦åˆé€‚
- âœ… æ£€æŸ¥æ‰è½æ•ˆæœæ˜¯å¦è‡ªç„¶
- âœ… æ”¶é›†ç©å®¶åé¦ˆ

---

**ä¿®æ”¹ç‰ˆæœ¬**: 1.2.0  
**ä¿®æ”¹çŠ¶æ€**: âœ… å·²å®Œæˆ  
**æµ‹è¯•çŠ¶æ€**: â³ å¾…ç©å®¶æµ‹è¯•  
**å¯å›é€€æ€§**: âœ… å¯éšæ—¶æ¢å¤


