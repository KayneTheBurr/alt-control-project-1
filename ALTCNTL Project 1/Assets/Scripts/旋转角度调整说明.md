# 旋转角度调整说明

> **修改内容**: 调整倾斜阶段的旋转角度  
> **修改日期**: 2025-10-13  
> **版本**: 1.2.0

---

## 🎯 修改目标

降低倾倒阶段的旋转角度，使倾斜效果更加温和。

---

## 📊 角度对比

### 修改前

```
左倾倒 ← 左倾2 ← 左倾1 ← 居中 → 右倾1 → 右倾2 → 右倾倒
 -45°     -30°     -15°     0°     15°      30°      45°
  -3       -2       -1       0       1        2        3
```

### 修改后 ✅

```
左倾倒 ← 左倾2 ← 左倾1 ← 居中 → 右倾1 → 右倾2 → 右倾倒
 -35°     -25°     -15°     0°     15°      25°      35°
  -3       -2       -1       0       1        2        3
```

---

## 📋 详细修改

| 阶段 | 修改前 | 修改后 | 变化 |
|------|--------|--------|------|
| **左倾倒** | -45° | **-35°** | +10° |
| **左倾2** | -30° | **-25°** | +5° |
| 左倾1 | -15° | -15° | 无变化 |
| 居中 | 0° | 0° | 无变化 |
| 右倾1 | 15° | 15° | 无变化 |
| **右倾2** | 30° | **25°** | -5° |
| **右倾倒** | 45° | **35°** | -10° |

---

## 🎨 视觉效果变化

### 倾倒阶段 (Topple)

**修改前: ±45°**
- 倾斜非常明显
- 视觉冲击力强
- 可能过于夸张

**修改后: ±35°**
- ✅ 倾斜更加温和
- ✅ 视觉效果更自然
- ✅ 仍然明显表示"危险"状态

### 倾斜2阶段 (Tilt2)

**修改前: ±30°**
- 中等倾斜

**修改后: ±25°**
- ✅ 稍微温和
- ✅ 与倾倒阶段区分度更明显

---

## 🔧 代码修改

### SwayPhase.cs

```csharp
public static float GetRotationAngle(this SwayPhase phase)
{
    switch (phase)
    {
        case SwayPhase.LeftTopple: return -35f;  // 修改：-45° → -35°
        case SwayPhase.LeftTilt2: return -25f;   // 修改：-30° → -25°
        case SwayPhase.LeftTilt1: return -15f;   // 保持不变
        case SwayPhase.Center: return 0f;        // 保持不变
        case SwayPhase.RightTilt1: return 15f;   // 保持不变
        case SwayPhase.RightTilt2: return 25f;   // 修改：30° → 25°
        case SwayPhase.RightTopple: return 35f;  // 修改：45° → 35°
        default: return 0f;
    }
}
```

---

## 🎮 游戏体验影响

### 正面影响

1. **更易控制** ✅
   - 倾斜角度更小，玩家有更多反应时间
   - 降低了游戏难度曲线

2. **视觉舒适** ✅
   - 减少了过度倾斜造成的视觉不适
   - 画面更加稳定

3. **物体掉落更自然** ✅
   - 35°的倾倒角度更符合物理直觉
   - 掉落效果更真实

### 可能影响

1. **危机感降低**
   - 倾倒阶段不如之前明显
   - **解决方案**: 可通过UI、音效、特效强化危机感

2. **阶段区分度**
   - 倾斜2和倾倒的角度差从15°缩小到10°
   - **解决方案**: 添加颜色、抖动等视觉提示

---

## 🎨 增强视觉反馈建议

如果觉得危机感不够，可以添加：

### 1. 颜色提示

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    Color warningColor = Color.white;
    
    switch (newPhase)
    {
        case SwayPhase.Center:
            warningColor = Color.white;  // 安全
            break;
        case SwayPhase.LeftTilt1:
        case SwayPhase.RightTilt1:
            warningColor = Color.yellow;  // 警告
            break;
        case SwayPhase.LeftTilt2:
        case SwayPhase.RightTilt2:
            warningColor = new Color(1f, 0.5f, 0f);  // 橙色-危险
            break;
        case SwayPhase.LeftTopple:
        case SwayPhase.RightTopple:
            warningColor = Color.red;  // 红色-倾倒
            break;
    }
    
    // 应用到背景或物体
    Camera.main.backgroundColor = warningColor;
}
```

### 2. 相机抖动

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        // 倾倒阶段：强烈抖动
        StartCoroutine(CameraShake(0.3f, 0.2f));
    }
    else if (newPhase == SwayPhase.LeftTilt2 || newPhase == SwayPhase.RightTilt2)
    {
        // 倾斜2：轻微抖动
        StartCoroutine(CameraShake(0.2f, 0.1f));
    }
}
```

### 3. 音效分层

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        PlaySound(dangerAlarmSound, 1.0f);  // 高音量警报
    }
    else if (newPhase.IsTiltPhase())
    {
        PlaySound(warningSound, 0.5f);  // 中音量提示
    }
}
```

### 4. 粒子效果

```csharp
void OnPhaseChanged(SwayPhase oldPhase, SwayPhase newPhase)
{
    if (newPhase.IsTopplePhase())
    {
        // 倾倒时生成粒子
        InstantiateParticles(warningParticles, stackController.StackRoot.position);
    }
}
```

---

## 🎯 适用场景

### 这次修改适合：

- ✅ 休闲游戏
- ✅ 新手友好的游戏
- ✅ 注重视觉舒适度的游戏
- ✅ 长时间游玩的游戏

### 如果需要更高难度：

可以考虑：
- 保持原角度（±45°）
- 或使用中间值（±40°）
- 或动态调整（随游戏进程增加角度）

---

## 🔄 如何恢复原来的角度

如果想恢复到原来的角度：

```csharp
// 在 SwayPhase.cs 的 GetRotationAngle() 方法中修改：
case SwayPhase.LeftTopple: return -45f;   // 改回 -45°
case SwayPhase.LeftTilt2: return -30f;    // 改回 -30°
case SwayPhase.RightTilt2: return 30f;    // 改回 30°
case SwayPhase.RightTopple: return 45f;   // 改回 45°
```

---

## 🔧 动态角度调整（高级）

如果想根据游戏进度动态调整：

```csharp
public class DynamicAngleManager : MonoBehaviour
{
    public float difficultyMultiplier = 1.0f;
    
    // 随游戏进度增加难度
    void IncreaseDifficulty()
    {
        difficultyMultiplier += 0.1f;
    }
    
    // 自定义角度计算
    public float GetCustomRotationAngle(SwayPhase phase)
    {
        float baseAngle = phase.GetRotationAngle();
        return baseAngle * difficultyMultiplier;
    }
}
```

---

## 📊 玩家测试建议

### A/B 测试

测试不同角度对玩家体验的影响：

| 版本 | 倾倒角度 | 适合玩家 |
|------|----------|----------|
| 温和版 | ±30° | 新手、休闲玩家 |
| **当前版** | **±35°** | **大众玩家** |
| 标准版 | ±40° | 有经验玩家 |
| 挑战版 | ±45° | 硬核玩家 |
| 极限版 | ±50° | 专业玩家 |

### 测试指标

1. **玩家存活时间**
   - 记录平均游戏时长
   - 观察是否过简单/过难

2. **玩家反馈**
   - 视觉舒适度
   - 游戏难度感受
   - 操作手感

3. **倾倒频率**
   - 统计多久会倾倒一次
   - 调整倒计时或角度

---

## ✅ 修改总结

**修改内容：**
- ✅ 降低倾倒角度：±45° → ±35° (-10°)
- ✅ 降低倾斜2角度：±30° → ±25° (-5°)
- ✅ 保持倾斜1和居中不变

**预期效果：**
- ✅ 更温和的倾斜表现
- ✅ 更自然的视觉效果
- ✅ 更友好的游戏体验
- ✅ 更符合物理直觉

**验证方法：**
- ✅ 运行游戏测试各个阶段
- ✅ 观察倾斜角度是否合适
- ✅ 检查掉落效果是否自然
- ✅ 收集玩家反馈

---

**修改版本**: 1.2.0  
**修改状态**: ✅ 已完成  
**测试状态**: ⏳ 待玩家测试  
**可回退性**: ✅ 可随时恢复


